<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">

<th:block th:replace="~{/layout/basic :: setContent(~{this::content})}">
  <th:block th:fragment="content">

    <div id="main-content">
      <div class="page-heading">
        <div class="page-title">
          <div class="row">
            <div class="col-12 col-md-6 order-md-1 order-last">
              <h3>House List</h3>
              <p>본인이 원하는 매물을 <code class="highlighter-rouge">필터</code>를 이용하여 쉽게 찾아보세요.
              </p>
            </div>
          </div>
        </div>
        <section class="section">
          <div class="card">
            <div class="card-header">
              <h4 class="card-title"><p>본인이 원하는 매물을 <code class="highlighter-rouge">필터</code>를 이용하여 쉽게 찾아보세요.
              </p></h4>
            </div>
            <div class="card-body">
              <div class="table-responsive">
                <table class="table mb-0">
                  <thead class="thead-dark">
                  <tr>
                    <th>No</th>
                    <th>TITLE</th>
                    <th>ID</th>
                    <th>TYPE</th>
                    <th>AREA</th>
                    <th>REGDATE</th>
                    <th>VIEW</th>
                  </tr>
                  </thead>
                  <tbody>
                  <tr th:each="dto : ${result.dtoList}">
                    <td>[[${dto.houseNum}]]</td>
                    <td><a th:href="@{/house/read?(houseNum= ${dto.houseNum})}"> [[${dto.title}]]</a></td>
                    <td>[[${dto.id}]]</td>
                    <td>[[${dto.contractType}]]</td>
                    <td>[[${dto.area}]]㎡</td>
                    <td>[[${#temporals.format(dto.regDate, 'yyyy/MM/dd')}]]</td>
                    <td>[[${dto.view}]]</td>
                  </tr>
                  </tbody>
                </table>

                <a th:href="@{/house/register}" class="btn btn-primary rounded-pill btn-sm" style="float: right; margin-top: 0.5em; margin-right: 0.5em">Register</a>

                <nav aria-label="Page navigation example" style="margin-top: 2em">
                  <ul class="pagination pagination-primary justify-content-center">
                    <li class="page-item prev-page" th:if="${result.prev}">
                      <a class="page-link" th:href="@{/house/list(page = ${result.start-1})}">
                        <span aria-hidden="true"><i class="bi bi-chevron-left"></i></span></a>
                    </li>
                    <li th:class=" 'page-item '  + ${result.page == page ? 'active' : ''}" th:each="page: ${result.pageList}">
                      <a class="page-link" th:href="@{/house/list(page = ${page})}">[[${page}]]</a>
                    </li>
                    <li class="page-item next-page" th:if="${result.next}">
                      <a class="page-link" th:href="@{/house/list(page = ${result.end + 1})}">
                        <span aria-hidden="true"><i class="bi bi-chevron-right"></i></span></a></li>
                  </ul>
                </nav>
              </div>
            </div>
          </div>
        </section>
      </div>
    </div>
  </th:block>
</th:block>