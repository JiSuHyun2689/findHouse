<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">


<link href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datetimepicker/3.0.0/css/bootstrap-datetimepicker.min.css" rel="stylesheet" />
<script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.8.2/moment-with-locales.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datetimepicker/3.0.0/js/bootstrap-datetimepicker.min.js"></script>


<th:block th:replace="~{/layout/basic :: setContent(~{this::content})}">
    <th:block th:fragment="content">

        <div id="main-content">
            <div class="page-heading">
                <div class="page-title">
                    <div class="row">
                        <div class="col-12 col-md-6 order-md-1 order-last">
                            <h3>House Modify</h3>
                            <p>매물을 수정하세요.</p>
                        </div>
                    </div>
                </div>
                <section class="section">
                    <div class="card">
                        <div class="card-body">

                            <form class="form form-vertical" method="post" action="/house/modify" id="inputForm" >
                                <div class="form-body">
                                    <div class="row">

                                        <!-- 수정 필요 -->
                                        <input type="hidden" name="id" value="user200">
                                        <input type="hidden" name="houseNum" th:value="${dto.houseNum}">

                                        <div class="col-12">
                                            <div class="form-group">
                                                <label>제목</label>
                                                <input type="text" class="form-control" name="title" placeholder="Title" th:value="${dto.title}">
                                            </div>
                                        </div>

                                        <div class="col-8">
                                            <div class="form-group">
                                                <label>주소</label><small class="text-muted"> <code class="highlighter-rouge">Tip!</code><i>상세한 주소를 입력해주세요! 다른분들에겐 정확히 표시되지 않습니다!</i></small>
                                                <input type="text" class="form-control" name="address" th:value="${dto.address}">
                                            </div>
                                        </div>

                                        <div class="col-2">
                                            <div class="form-group">
                                                <label>상태</label>
                                                <select class="form-select" name="status">
                                                    <option value="거래가능">거래가능</option>
                                                    <option value="거래불가">거래불가</option>
                                                </select>
                                            </div>
                                        </div>

                                        <div class="col-2">
                                            <div class="form-group">
                                                <label>면적(㎡)</label>
                                                <input type="text" class="form-control" name="area" th:value="${dto.area}">
                                            </div>
                                        </div>




                                        <div class="col-2">
                                            <div class="form-group">
                                                <label>유형</label>
                                                <select class="form-select" name="contractType">
                                                    <option value="전세" th:selected="${dto.contractType} == '전세'">전세</option>
                                                    <option value="월세" th:selected="${dto.contractType} == '월세'">월세</option>
                                                    <option value="선세" th:selected="${dto.contractType} == '선세'">선세</option>
                                                    <option value="매매" th:selected="${dto.contractType} == '매매'">매매</option>
                                                </select>
                                            </div>
                                        </div>

                                        <div class="col-2">
                                            <div class="form-group">
                                                <label>건물유형</label>
                                                <select class="form-select" name="buildingType">
                                                    <option value="원룸" th:selected="${dto.buildingType} == '원룸'">원룸</option>
                                                    <option value="투룸" th:selected="${dto.buildingType} == '투룸'">투룸</option>
                                                    <option value="빌라" th:selected="${dto.buildingType} == '빌라'">빌라</option>
                                                    <option value="오피스텔" th:selected="${dto.buildingType} == '오피스텔'">오피스텔</option>
                                                    <option value="아파트" th:selected="${dto.buildingType} == '아파트'">아파트</option>
                                                    <option value="단독주택" th:selected="${dto.buildingType} == '단독주택'">단독주택</option>
                                                    <option value="기타" th:selected="${dto.buildingType} == '기타'">기타</option>
                                                </select>
                                            </div>
                                        </div>

                                        <div class="col-2">
                                            <div class="form-group">
                                                <label>중개수수료 (만원)</label>
                                                <input type="number" class="form-control" name="brokerage" th:value="${dto.brokerage}">
                                            </div>
                                        </div>

                                        <div class="col-2">
                                            <div class="form-group">
                                                <label>최소 계약기간 (개월)</label>
                                                <input type="number" class="form-control" name="minTerm" th:value="${dto.minTerm}">
                                            </div>
                                        </div>

                                        <div class="col-2">
                                            <div class="form-group">
                                                <label>해당 층 수</label>
                                                <input type="number" class="form-control" name="theFloor" th:value="${dto.theFloor}">
                                            </div>
                                        </div>

                                        <div class="col-2">
                                            <div class="form-group">
                                                <label>전체 층 수</label>
                                                <input type="number" class="form-control" name="wholeFloor" th:value="${dto.wholeFloor}">
                                            </div>
                                        </div>





                                        <div class="col-2">
                                            <div class="form-group">
                                                <label>입주 가능 날짜</label>
                                                <input type="date" id="moveInDate" class="form-control"  name="moveInDate" th:value="${#temporals.format(dto.moveInDate, 'yyyy-MM-DD')}" >
                                            </div>
                                        </div>

                                        <div class="col-2">
                                            <div class="form-group">
                                                <label>준공 날짜</label>
                                                <input type="date" id="completionDate" class="form-control"  name="completionDate" th:value="${#temporals.format(dto.completionDate, 'yyyy-MM-DD')}" >
                                            </div>
                                        </div>

                                        <div class="col-2">
                                            <div class="form-group">
                                                <label>방 개수</label>
                                                <input type="number" class="form-control" name="room" th:value="${structureDto.room}">
                                            </div>
                                        </div>

                                        <div class="col-2">
                                            <div class="form-group">
                                                <label>거실 개수</label>
                                                <input type="number" class="form-control" name="livingRoom" th:value="${structureDto.livingRoom}">
                                            </div>
                                        </div>

                                        <div class="col-2">
                                            <div class="form-group">
                                                <label>화장실 개수</label>
                                                <input type="number" class="form-control" name="toilet" th:value="${structureDto.toilet}">
                                            </div>
                                        </div>

                                        <div class="col-2">
                                            <div class="form-group">
                                                <label>베란다 개수</label>
                                                <input type="number" class="form-control" name="veranda" th:value="${structureDto.veranda}">
                                            </div>
                                        </div>







                                        <div class="col-2 price">
                                            <div class="form-group">
                                                <label>가격 (만원)</label>
                                                <input type="number" class="form-control price" name="price" th:value="${priceDto.price}">
                                            </div>
                                        </div>


                                        <div class="col-2 deposit" style="display:none">
                                            <div class="form-group">
                                                <label>보증금 (만원)</label>
                                                <input type="number" class="form-control deposit" name="deposit" th:value="${priceDto.deposit}" >
                                            </div>
                                        </div>

                                        <div class="col-2 monthly" style="display:none">
                                            <div class="form-group">
                                                <label>월세 (만원)</label>
                                                <input type="number" class="form-control monthly" name="monthly" th:value="${priceDto.monthly}">
                                            </div>
                                        </div>

                                        <div class="col-2">
                                            <div class="form-group">
                                                <label>관리비 (만원)</label>
                                                <input type="number" class="form-control" name="totalCost" th:value="${costDto.totalCost}">
                                            </div>
                                        </div>

                                        <div class="col-2">
                                            <div class="form-group">
                                                <label>관리비 기타 항목</label>
                                                <input type="text" class="form-control" name="costContent" th:value="${costDto.costContent}">
                                            </div>
                                        </div>


                                        <div class="col-12">
                                            <label style="font-weight: bold">관리비 포함 항목</label>
                                        </div>

                                        <div class="col-12">
                                            <li class="d-inline-block me-2 mb-1">
                                                <div class="form-check">
                                                    <div class="custom-control custom-checkbox">
                                                        <input type="checkbox" class="form-check-input form-check-secondary form-check-glow" name="electricity" th:checked="${costDto.electricity}">
                                                        <label class="form-check-label">전기세</label>
                                                    </div>
                                                </div>
                                            </li>

                                            <li class="d-inline-block me-2 mb-1">
                                                <div class="form-check">
                                                    <div class="custom-control custom-checkbox">
                                                        <input type="checkbox" class="form-check-input form-check-secondary form-check-glow" name="gas" th:checked="${costDto.gas}">
                                                        <label class="form-check-label">가스비</label>
                                                    </div>
                                                </div>
                                            </li>

                                            <li class="d-inline-block me-2 mb-1">
                                                <div class="form-check">
                                                    <div class="custom-control custom-checkbox">
                                                        <input type="checkbox" class="form-check-input form-check-secondary form-check-glow" name="water" th:checked="${costDto.water}">
                                                        <label class="form-check-label">수도세</label>
                                                    </div>
                                                </div>
                                            </li>

                                            <li class="d-inline-block me-2 mb-1">
                                                <div class="form-check">
                                                    <div class="custom-control custom-checkbox">
                                                        <input type="checkbox" class="form-check-input form-check-secondary form-check-glow" name="costTv" th:checked="${costDto.costTv}">
                                                        <label class="form-check-label">TV</label>
                                                    </div>
                                                </div>
                                            </li>

                                            <li class="d-inline-block me-2 mb-1">
                                                <div class="form-check">
                                                    <div class="custom-control custom-checkbox">
                                                        <input type="checkbox" class="form-check-input form-check-secondary form-check-glow" name="internet" th:checked="${costDto.internet}">
                                                        <label class="form-check-label">인터넷</label>
                                                    </div>
                                                </div>
                                            </li>

                                            <li class="d-inline-block me-2 mb-1">
                                                <div class="form-check">
                                                    <div class="custom-control custom-checkbox">
                                                        <input type="checkbox" class="form-check-input form-check-secondary form-check-glow" name="costParking" th:checked="${costDto.costParking}">
                                                        <label class="form-check-label">주차비</label>
                                                    </div>
                                                </div>
                                            </li>

                                            <li class="d-inline-block me-2 mb-1">
                                                <div class="form-check">
                                                    <div class="custom-control custom-checkbox">
                                                        <input type="checkbox" class="form-check-input form-check-secondary form-check-glow" name="etc" th:checked="${costDto.etc}">
                                                        <label class="form-check-label">기타</label>
                                                    </div>
                                                </div>
                                            </li>
                                        </div>





                                        <div class="col-12">
                                            <label style="font-weight: bold">가능 여부</label>
                                        </div>

                                        <div class="col-12">
                                            <li class="d-inline-block me-2 mb-1">
                                                <div class="form-check">
                                                    <div class="custom-control custom-checkbox">
                                                        <input type="checkbox" class="form-check-input form-check-primary form-check-glow" name="elevator" th:checked="${dto.elevator}">
                                                        <label class="form-check-label">엘레베이터</label>
                                                    </div>
                                                </div>
                                            </li>

                                            <li class="d-inline-block me-2 mb-1">
                                                <div class="form-check">
                                                    <div class="custom-control custom-checkbox">
                                                        <input type="checkbox" class="form-check-input form-check-primary form-check-glow" name="pet" th:checked="${dto.pet}">
                                                        <label class="form-check-label">애완동물</label>
                                                    </div>
                                                </div>
                                            </li>

                                            <li class="d-inline-block me-2 mb-1">
                                                <div class="form-check">
                                                    <div class="custom-control custom-checkbox">
                                                        <input type="checkbox" class="form-check-input form-check-primary form-check-glow" name="parking" th:checked="${dto.parking}">
                                                        <label class="form-check-label">주차</label>
                                                    </div>
                                                </div>
                                            </li>

                                            <li class="d-inline-block me-2 mb-1">
                                                <div class="form-check">
                                                    <div class="custom-control custom-checkbox">
                                                        <input type="checkbox" class="form-check-input form-check-primary form-check-glow"  name="loan" th:checked="${dto.loan}">
                                                        <label class="form-check-label">대출</label>
                                                    </div>
                                                </div>
                                            </li>
                                        </div>







                                        <div class="col-12">
                                            <label style="font-weight: bold">옵션</label>
                                        </div>
                                        <div class="col-12">
                                            <li class="d-inline-block me-2 mb-1">
                                                <div class="form-check">
                                                    <div class="custom-control custom-checkbox">
                                                        <input type="checkbox" class="form-check-input form-check-secondary form-check-glow" name="tv" th:checked="${optionDto.tv}">
                                                        <label class="form-check-label">TV</label>
                                                    </div>
                                                </div>
                                            </li>

                                            <li class="d-inline-block me-2 mb-1">
                                                <div class="form-check">
                                                    <div class="custom-control custom-checkbox">
                                                        <input type="checkbox" class="form-check-input form-check-secondary form-check-glow" name="airConditioner" th:checked="${optionDto.airConditioner}">
                                                        <label class="form-check-label">에어컨</label>
                                                    </div>
                                                </div>
                                            </li>

                                            <li class="d-inline-block me-2 mb-1">
                                                <div class="form-check">
                                                    <div class="custom-control custom-checkbox">
                                                        <input type="checkbox" class="form-check-input form-check-secondary form-check-glow" name="refrigerator" th:checked="${optionDto.refrigerator}">
                                                        <label class="form-check-label">냉장고</label>
                                                    </div>
                                                </div>
                                            </li>

                                            <li class="d-inline-block me-2 mb-1">
                                                <div class="form-check">
                                                    <div class="custom-control custom-checkbox">
                                                        <input type="checkbox" class="form-check-input form-check-secondary form-check-glow" name="washer" th:checked="${optionDto.washer}">
                                                        <label class="form-check-label">세탁기</label>
                                                    </div>
                                                </div>
                                            </li>

                                            <li class="d-inline-block me-2 mb-1">
                                                <div class="form-check">
                                                    <div class="custom-control custom-checkbox">
                                                        <input type="checkbox" class="form-check-input form-check-secondary form-check-glow" name="dryer" th:checked="${optionDto.dryer}">
                                                        <label class="form-check-label">건조기</label>
                                                    </div>
                                                </div>
                                            </li>

                                            <li class="d-inline-block me-2 mb-1">
                                                <div class="form-check">
                                                    <div class="custom-control custom-checkbox">
                                                        <input type="checkbox" class="form-check-input form-check-secondary form-check-glow" name="induction" th:checked="${optionDto.induction}">
                                                        <label class="form-check-label">인덕션</label>
                                                    </div>
                                                </div>
                                            </li>

                                            <li class="d-inline-block me-2 mb-1">
                                                <div class="form-check">
                                                    <div class="custom-control custom-checkbox">
                                                        <input type="checkbox" class="form-check-input form-check-secondary form-check-glow" name="gasStove" th:checked="${optionDto.gasStove}">
                                                        <label class="form-check-label">가스레인지</label>
                                                    </div>
                                                </div>
                                            </li>

                                            <li class="d-inline-block me-2 mb-1">
                                                <div class="form-check">
                                                    <div class="custom-control custom-checkbox">
                                                        <input type="checkbox" class="form-check-input form-check-secondary form-check-glow" name="sink" th:checked="${optionDto.sink}">
                                                        <label class="form-check-label">싱크대</label>
                                                    </div>
                                                </div>
                                            </li>

                                            <li class="d-inline-block me-2 mb-1">
                                                <div class="form-check">
                                                    <div class="custom-control custom-checkbox">
                                                        <input type="checkbox" class="form-check-input form-check-secondary form-check-glow" name="desk" th:checked="${optionDto.desk}">
                                                        <label class="form-check-label">책상</label>
                                                    </div>
                                                </div>
                                            </li>

                                            <li class="d-inline-block me-2 mb-1">
                                                <div class="form-check">
                                                    <div class="custom-control custom-checkbox">
                                                        <input type="checkbox" class="form-check-input form-check-secondary form-check-glow" name="bookshelf" th:checked="${optionDto.bookshelf}">
                                                        <label class="form-check-label">책장</label>
                                                    </div>
                                                </div>
                                            </li>

                                            <li class="d-inline-block me-2 mb-1">
                                                <div class="form-check">
                                                    <div class="custom-control custom-checkbox">
                                                        <input type="checkbox" class="form-check-input form-check-secondary form-check-glow" name="bed" th:checked="${optionDto.bed}">
                                                        <label class="form-check-label">침대</label>
                                                    </div>
                                                </div>
                                            </li>

                                            <li class="d-inline-block me-2 mb-1">
                                                <div class="form-check">
                                                    <div class="custom-control custom-checkbox">
                                                        <input type="checkbox" class="form-check-input form-check-secondary form-check-glow" name="closet" th:checked="${optionDto.closet}">
                                                        <label class="form-check-label">옷장</label>
                                                    </div>
                                                </div>
                                            </li>

                                            <li class="d-inline-block me-2 mb-1">
                                                <div class="form-check">
                                                    <div class="custom-control custom-checkbox">
                                                        <input type="checkbox" class="form-check-input form-check-secondary form-check-glow" name="dishwasher" th:checked="${optionDto.dishwasher}">
                                                        <label class="form-check-label">식기세척기</label>
                                                    </div>
                                                </div>
                                            </li>

                                            <li class="d-inline-block me-2 mb-1">
                                                <div class="form-check">
                                                    <div class="custom-control custom-checkbox">
                                                        <input type="checkbox" class="form-check-input form-check-secondary form-check-glow" name="shoeRack" th:checked="${optionDto.shoeRack}">
                                                        <label class="form-check-label">신발장</label>
                                                    </div>
                                                </div>
                                            </li>
                                        </div>
                                    </div>




                                    <div class="col-12">
                                        <div class="form-floating">
                                            <textarea class="form-control" name="content" style="margin-top: 1em; margin-bottom: 1em; height: 77px;">[[${dto.content}]]</textarea>
                                            <label>Comments</label>
                                        </div>
                                    </div>



                                    <div class="col-12 d-flex justify-content-end">
                                        <button type="reset" class="btn btn-light-secondary me-1 mb-1 rounded-pill">Reset</button>
                                        <button type="submit" class="btn btn-primary me-1 mb-1 submitBtn rounded-pill">Submit</button>
                                        <a th:href="@{/house/list}"><button type="button" class="btn btn-secondary me-1 mb-1 rounded-pill">List</button></a>
                                    </div>
                                </div>
                        </div>
                        </form>
                    </div>
            </div>
            </section>
        </div>
        </div>
    </th:block>
</th:block>




<script>

    $(document).ready(function () {
        var form = $('#inputForm');

        $('.submitBtn').click(function () {

            var moveInDate = $('#moveInDate').val();
            var comletionDate = $('#comletionDate').val();

            form.append(moveInDate);
            form.append(comletionDate);

            form.submit();
        });
    });

</script>
